# ï¿½ Finance Manager

> **The ultimate personal finance management solution built with Hexagonal Architecture**

A modern, extensible, and highly maintainable finance tracking application designed from the ground up with clean architecture principles. Every component is replaceableâ€”UI, database, external servicesâ€”making it future-proof and adaptable to any need.

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![License: Commercial](https://img.shields.io/badge/License-Commercial-blue.svg)](LICENSE-COMMERCIAL.md)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-19-blue.svg)](https://reactjs.org/)

---
## âœ¨ Key Features

### ğŸ“Š Core Functionality
- **Multi-account management**: Checking, savings, credit cards, investments
- **Transaction tracking**: Income, expenses, and transfers with detailed metadata
- **Category organization**: Hierarchical categories with icons and colors
- **Multi-currency support**: Handle multiple currencies with proper conversion

### ğŸ’° Budget Management â­ NEW
- Set monthly, quarterly, or yearly budgets per category
- Real-time spending tracking with visual progress indicators
- Over-budget warnings with color-coded alerts
- Budget history and trends

### ğŸ“ˆ Advanced Analytics â­ NEW
- **Monthly trends**: Income vs expenses over configurable periods
- **Category insights**: Top spending categories with percentages
- **Year-over-year comparison**: Track financial growth patterns
- **Custom date ranges**: Analyze any time period

### ğŸ” Advanced Search â­ NEW
- Filter by date range, amount, category, account
- Search in descriptions, notes, and merchant names
- Sort by date or amount
- Export filtered results

### ğŸ“¤ Data Export â­ NEW
- **CSV export**: For Excel and spreadsheet analysis
- **JSON export**: For backups and programmatic access
- One-click download with proper formatting

### ğŸ” Security & Authentication
- Clerk authentication with JWT verification
- Multi-tenancy with complete user isolation
- Row-level security at database level
- Secure API endpoints

### ğŸ·ï¸ Category Management â­ NEW
- **Create & customize**: Icons, colors, names
- **Edit & delete**: Full CRUD operations
- **Drag & drop**: Reorder categories visually
- **Smart deletion**: Prevents deleting categories with transactions

### ğŸ’± Multi-Currency â­ NEW
- **Real-time rates**: 10+ major currencies
- **Currency converter**: Instant conversions
- **Exchange rate table**: View all rates at once
- **Travel-friendly**: Perfect for international transactions

---
## ğŸ¯ Project Vision

**Finance Manager** aims to be the best open-source solution for personal and business money accounting by:

- ğŸ“Š **Best-in-class accounting**: Comprehensive transaction tracking, multi-currency support, and powerful analytics
- ğŸ—ï¸ **Hexagonal Architecture**: Clean separation between business logic and infrastructure
- ğŸ”Œ **Everything is replaceable**: Swap UI frameworks, databases, or external services without touching core logic
- ğŸ§ª **100% testable**: Domain logic isolated from dependencies for rock-solid reliability
- ğŸš€ **Production-ready**: Built with TypeScript, React 19, and PostgreSQL for enterprise-grade performance

---

## ğŸ›ï¸ Architecture

This project follows **Hexagonal Architecture** (Ports & Adapters), ensuring:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Primary Adapters                    â”‚
â”‚         (Driving - What drives the app)              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ REST API â”‚  â”‚   CLI    â”‚  â”‚ React UI â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚
â”‚        â”‚             â”‚              â”‚                â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      â”‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â–¼                               â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚  DOMAIN CORE  â”‚                       â”‚
â”‚              â”‚               â”‚                       â”‚
â”‚              â”‚ â€¢ Account     â”‚                       â”‚
â”‚              â”‚ â€¢ Transaction â”‚                       â”‚
â”‚              â”‚ â€¢ Money       â”‚                       â”‚
â”‚              â”‚ â€¢ Category    â”‚                       â”‚
â”‚              â”‚               â”‚                       â”‚
â”‚              â”‚ Pure business â”‚                       â”‚
â”‚              â”‚ logic - zero  â”‚                       â”‚
â”‚              â”‚ dependencies  â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                      â”‚                               â”‚
â”‚                      â–¼                               â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚     PORTS     â”‚                       â”‚
â”‚              â”‚  (Interfaces) â”‚                       â”‚
â”‚              â”‚               â”‚                       â”‚
â”‚              â”‚ â€¢ Repository  â”‚                       â”‚
â”‚              â”‚ â€¢ Services    â”‚                       â”‚
â”‚              â”‚ â€¢ Gateways    â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â–¼                               â”‚
â”‚              Secondary Adapters                      â”‚
â”‚         (Driven - Infrastructure)                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚PostgreSQLâ”‚  â”‚  APIs    â”‚  â”‚  Cache   â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Why Hexagonal?

- âœ… **Replace the UI**: Swap React for Vue, Svelte, or mobile apps without changing business logic
- âœ… **Replace the DB**: Move from PostgreSQL to MongoDB, MySQL, or in-memory storage seamlessly
- âœ… **Replace services**: Switch payment providers, notification systems, or analytics engines
- âœ… **100% tested domain**: Test business rules without databases or HTTP servers
- âœ… **Technology freedom**: Never locked into specific frameworks or vendors

---

## âœ¨ Features

### Core Features
- ğŸ’³ **Multi-account management**: Track checking, savings, credit cards, investments, and crypto
- ğŸ’¸ **Transaction tracking**: Income, expenses, and transfers with rich metadata
- ğŸ·ï¸ **Smart categorization**: Organize transactions with categories and tags
- ğŸ’± **Multi-currency support**: Handle multiple currencies with proper conversion
- ğŸ“Š **Analytics & insights**: Visual dashboards with spending trends and savings rate
- ğŸŒ™ **Dark mode**: Full dark mode support across all components
- ğŸ“± **Responsive design**: Beautiful UI that works on desktop, tablet, and mobile

### Technical Features
- ğŸ§ª **175+ tests**: Comprehensive test suite with 96%+ domain coverage
- ğŸ¨ **Interactive UI**: Clickable cards with detailed modals and charts
- ğŸ“ˆ **Visual analytics**: Bar charts, pie charts, and progress indicators
- ğŸ”’ **Type-safe**: Full TypeScript coverage for compile-time safety
- âš¡ **Fast**: Optimized React 19 with efficient rendering
- ğŸ¯ **Clean code**: ESLint, Prettier, and strict TypeScript config

---

## ğŸš€ Quick Start

### Prerequisites

- **Node.js** 18+ and npm
- **Docker** and Docker Compose (for PostgreSQL)
- **Git**

### Installation

1. **Clone the repository**
```bash
git clone https://github.com/ruesol/Finance-Manager.git
cd Finance-Manager
```

2. **Install dependencies**
```bash
npm install
```

3. **Start the database**
```bash
docker compose up -d
```

4. **Run database migrations**
```bash
npm run db:migrate
```

5. **Seed with sample data** (optional)
```bash
npm run db:seed
```

6. **Start the development server**
```bash
npm run dev:all
```

The app will be available at:
- **Frontend**: http://localhost:5173
- **API**: http://localhost:3001

---

## ğŸ“¦ Project Structure

```
finance-manager/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Domain/                 # ğŸ¯ Core business logic (zero dependencies)
â”‚   â”‚   â”œâ”€â”€ Account.ts          # Account entity and business rules
â”‚   â”‚   â”œâ”€â”€ Transaction.ts      # Transaction entity
â”‚   â”‚   â”œâ”€â”€ Money.ts            # Money value object (immutable)
â”‚   â”‚   â”œâ”€â”€ Category.ts         # Category management
â”‚   â”‚   â””â”€â”€ interfaces/         # Port definitions (contracts)
â”‚   â”‚
â”‚   â”œâ”€â”€ Components/             # ğŸ¨ React UI components (Primary Adapter)
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx       # Interactive dashboard with charts
â”‚   â”‚   â”œâ”€â”€ AccountList.tsx     # Account management
â”‚   â”‚   â”œâ”€â”€ TransactionsList.tsx# Transaction tracking
â”‚   â”‚   â””â”€â”€ InteractiveComponents.tsx # Reusable UI components
â”‚   â”‚
â”‚   â”œâ”€â”€ db/                     # ğŸ’¾ Database adapter (Secondary Adapter)
â”‚   â”‚   â”œâ”€â”€ schema.ts           # Drizzle ORM schema
â”‚   â”‚   â”œâ”€â”€ index.ts            # Database connection
â”‚   â”‚   â””â”€â”€ migrate.ts          # Migration runner
â”‚   â”‚
â”‚   â”œâ”€â”€ Test/                   # ğŸ§ª Test suite
â”‚   â”‚   â”œâ”€â”€ Account.test.ts
â”‚   â”‚   â”œâ”€â”€ Money.test.ts
â”‚   â”‚   â””â”€â”€ utils.test.ts
â”‚   â”‚
â”‚   â””â”€â”€ utils.ts                # ğŸ› ï¸ Utility functions
â”‚
â”œâ”€â”€ server/                     # ğŸŒ REST API (Primary Adapter)
â”‚   â””â”€â”€ index.ts                # Express server with endpoints
â”‚
â”œâ”€â”€ docs/                       # ğŸ“š Documentation
â”‚   â””â”€â”€ 01-project-overview.md
â”‚
â”œâ”€â”€ LICENSE                     # MIT License (personal use)
â”œâ”€â”€ LICENSE-COMMERCIAL.md       # Commercial license terms
â”œâ”€â”€ docker-compose.yml          # PostgreSQL container
â”œâ”€â”€ drizzle.config.ts          # Database configuration
â””â”€â”€ package.json               # Dependencies and scripts
```

---

## ğŸ”Œ Replaceable Components

Thanks to hexagonal architecture, you can easily replace any infrastructure component:

### Replace the UI Framework

```typescript
// Current: React
<Dashboard stats={data} />

// Future: Vue, Svelte, Angular, mobile apps
// Just implement the same interface!
```

### Replace the Database

```typescript
// Current: PostgreSQL with Drizzle ORM
export const db = drizzle(queryClient, { schema });

// Future: MongoDB, MySQL, SQLite, in-memory
// Just implement the Repository interfaces!
class MongoTransactionRepository implements TransactionRepository {
  async save(transaction: Transaction): Promise<void> { /* ... */ }
  async findById(id: string): Promise<Transaction> { /* ... */ }
}
```

### Replace External Services

```typescript
// Current: Direct API calls
// Future: Banking APIs, payment providers, notification services
// Just implement the Gateway interfaces!
interface BankingProvider {
  fetchTransactions(): Promise<Transaction[]>;
}
```

---

## ğŸ§ª Testing

Run the comprehensive test suite:

```bash
# Run all tests
npm test

# Watch mode
npm run test:watch

# Coverage report
npm run test:coverage
```

**Test Coverage:**
- Domain Layer: **96%+** (Account, Money, Transaction)
- Utilities: **100%**
- App Component: **100%**
- Overall: **175+ tests**, all passing âœ…

---

## ğŸ“Š Database

### Available Commands

```bash
# Generate migrations from schema changes
npm run db:generate

# Apply migrations to database
npm run db:migrate

# Seed database with sample data
npm run db:seed

# Open Drizzle Studio (visual database editor)
npm run db:studio

# Push schema directly (development only)
npm run db:push
```

### Current Schema

- **accounts**: Bank accounts, credit cards, investments
- **transactions**: All financial transactions
- **categories**: Transaction categories
- **tags**: Flexible tagging system

---

## ğŸ¨ UI Components

The UI is built with modern React patterns and Tailwind CSS:

- **Interactive cards**: Click to view detailed analytics
- **Modal system**: Rich detail views with charts
- **Dark mode**: Complete dark theme support
- **Responsive**: Mobile-first design
- **Accessible**: Semantic HTML and ARIA labels

---

## ğŸ“œ License

This project is dual-licensed:

### For Personal Use (Free)
**MIT License** - Use freely for personal, non-commercial purposes.  
See [LICENSE](LICENSE) for full terms.

### For Commercial Use (Paid)
**Commercial License** required for businesses, organizations, and commercial applications.  
See [LICENSE-COMMERCIAL.md](LICENSE-COMMERCIAL.md) for pricing and terms.

**Contact:** commercial@financemanager.example.com

---

## ğŸ¤ Contributing

We welcome contributions! Whether it's:

- ğŸ› Bug fixes
- âœ¨ New features
- ğŸ“š Documentation improvements
- ğŸ§ª More tests
- ğŸ¨ UI enhancements

Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

---

## ğŸ—ºï¸ Roadmap

### Phase 1: Core Foundation âœ…
- [x] Hexagonal architecture setup
- [x] Domain model (Account, Transaction, Money)
- [x] PostgreSQL adapter
- [x] REST API
- [x] React UI with dark mode
- [x] Test suite with 96%+ coverage

### Phase 2: Enhanced Features (In Progress)
- [ ] Banking API integration (Open Banking)
- [ ] Budget management
- [ ] Recurring transactions
- [ ] Export to CSV/PDF
- [ ] Mobile app (React Native)

### Phase 3: Advanced Features
- [ ] Multi-user support with authentication
- [ ] Rule-based automation
- [ ] Investment tracking
- [ ] AI-powered categorization
- [ ] Plugin system for extensions
- [ ] GraphQL API option

### Phase 4: Enterprise Features
- [ ] Multi-tenancy
- [ ] Advanced reporting
- [ ] Audit logs
- [ ] Role-based access control
- [ ] SSO integration

---

## ğŸ’¬ Support

- **Issues**: [GitHub Issues](https://github.com/ruesol/Finance-Manager/issues)
- **Discussions**: [GitHub Discussions](https://github.com/ruesol/Finance-Manager/discussions)
- **Email**: support@financemanager.example.com

---

## ğŸ—ï¸ Built With

- **Frontend**: React 19, TypeScript 5.7, Tailwind CSS 4
- **Backend**: Node.js, Express, TypeScript
- **Database**: PostgreSQL 16, Drizzle ORM
- **Testing**: Jest 30, React Testing Library
- **Build**: Vite 6, tsx
- **DevOps**: Docker, Docker Compose

---

## ğŸ“ Documentation

- [Architecture Overview](docs/01-project-overview.md)
- [Testing Guide](src/Test/README.md)
- [Coverage Report](TEST_COVERAGE_REPORT.md)
- [API Documentation](server/README.md) _(coming soon)_

---

## â­ Star History

If you find this project useful, please consider giving it a star! It helps others discover the project.

---

## ğŸ“„ Credits

Created with â¤ï¸ by the Finance Manager team.

Inspired by the principles of Domain-Driven Design and Clean Architecture.

---

**Ready to take control of your finances?** [Get started now](#-quick-start) or explore the [architecture](#-architecture)!